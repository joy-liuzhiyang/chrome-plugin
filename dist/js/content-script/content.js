(()=>{"use strict";var __webpack_modules__={146:function(e,t,n){this&&this.__assign;Object.defineProperty(t,"__esModule",{value:!0});var r=n(7753),o=(n(6971),n(9813));function i(e,t){void 0===e&&(e="js/content-script/recruit.js");var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.src=chrome.extension.getURL(e),n.onload=function(){this.parentNode.removeChild(this),t&&t()},document.head.appendChild(n)}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.type){case"user_me":var o=JSON.parse(localStorage.USER_ME);n({userId:o.userId,username:o.username,staffId:o.staffId,currentCompany:o.currentCompany,accountId:o.accountId,mobileNo:o.mobileNo});break;case"resume-page":r.webJudge(e.data,n)}return!0})),console.log("***********"),window.findReactInstance=function(e){if(e){var t=Object.keys(e).find((function(e){return e.startsWith("__reactInternalInstance")}));if(t)return e[t]}},document.addEventListener("DOMContentLoaded",(function(){r.isIhrLogin()&&(window.addEventListener("message",(function(e){"i-recruit-script"===e.data.source&&e.origin===location.origin&&chrome.runtime.sendMessage({form:"content",to:"background",type:"auto-fill",data:e.data.data},(function(e){}))})),function(e){void 0===e&&(e="js/content-script/inject.js");var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.src=chrome.extension.getURL(e),t.onload=function(){this.parentNode.removeChild(this)},document.head.appendChild(t)}())})),window.onload=function(){var e;(e=r.isRecruitPublic())&&(i("js/content-script/recruit.js",(function(){chrome.runtime.sendMessage({form:"content",to:"background",type:"get-fill-data",data:e},(function(t){t&&(console.log("data#####%%%%%%",t),window.postMessage({source:"i-recruit-content",data:{type:e,data:t}},"/"))}))})),window.addEventListener("message",(function(e){"i-recruit-boss-submit-script"===e.data.source&&e.origin===location.origin&&(console.log("获取boss的信息为：",e.data),chrome.runtime.sendMessage({form:"content",to:"background",type:"bossPublcResult",data:{channelAccountId:e.data.data.channelAccountId,channelCode:"bosszhipin",jobDescriptionId:e.data.data.jobDescriptionId}},(function(e){})))}))),i("js/content-script/fillAccount.js"),window.addEventListener("message",(function(e){"i-recruit-account-script"===e.data.source&&e.origin===location.origin&&(console.log("eeee1111 ",e),chrome.runtime.sendMessage({form:"content",to:"background",type:"getAccountInfo",data:e.data.data},(function(e){window.postMessage({source:"i-recruit-account-back-script",data:e},"/")})))})),new o.default},window.addEventListener("message",(function(e){if("i-submit-recruit-content"===e.data.source&&e.origin===location.origin){console.log("渠道传过来的data",e.data.data);var t={time:(new Date).getTime(),channelAccountId:e.data.data.channelAccountId,channelCode:e.data.data.channelCode,jobDescriptionId:e.data.data.jobDescriptionId,field:e.data.data.field,name:e.data.data.name};chrome.storage.local.set(t,(function(){console.log("set成功")}))}}))},9813:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this;this.getOtherPublicInfo=function(t,o){return n(e,void 0,void 0,(function(){return r(this,(function(e){return[2,new Promise((function(e){"zhilian"===t.type?chrome.storage.local.get(null,(function(t){e(t?t.name:null)})):e(new RegExp(t.reg).exec(o)[1])}))]}))}))},this.publicSucess=function(e){console.log("获取到了发布成功状态",e),chrome.runtime.sendMessage({from:"content",to:"background",type:"publcResult",data:{channelAccountId:e.channelAccountId,channelCode:e.channelCode,jobDescriptionId:e.jobDescriptionId}},(function(e){console.log("response：",e)}))},this.updatePublishResult=function(){return n(e,void 0,void 0,(function(){var e,t,n,o=this;return r(this,(function(r){switch(r.label){case 0:return e=decodeURIComponent(location.href),t=this.publicResultArr.find((function(t){return new RegExp(t.reg).test(e)})),console.log("publicPageItem",t),t?[4,this.getOtherPublicInfo(t,e)]:[3,2];case 1:n=r.sent(),console.log("publicId",n),t&&n&&chrome.storage.local.get(null,(function(e){console.log("get成功",e),e&&e.field&&(e.time&&o.publicSucess(e),setTimeout((function(){chrome.storage.local.clear((function(){}))}),1e3))})),r.label=2;case 2:return[2]}}))}))},this.publicResultArr=[{reg:"^http(?:s)?://\\w+\\.58\\.com/zhaopin/post/success/(\\d+)\\?isadd=\\w+",type:"58",field:"58PublishInfo"},{reg:"^http(?:s)?://\\w+\\.liepin\\.com/ejobedit/showpublishejobresult\\?ejobIds=(\\d+)&ejobActionType=((update)|(publish))",type:"liepin",field:"liepinPublishInfo"},{reg:"^http(?:s)?://www.ganji\\.com/common/success\\.php\\?id=(\\w+)",type:"ganji",field:"ganjiPublishInfo"},{reg:"^http(?:s)?://\\w+.lagou\\.com/position/multiChannel/myOnlinePositions\\.htm\\?.*&parentPositionId=(\\d+)",type:"lagou",field:"lagouPublishInfo"},{reg:"^http(?:s)?://\\w+.zhaopin\\.com/job/manage\\?action=PUBLISH",type:"zhilian",field:"zhilianPublishInfo"},{reg:"^http(?:s)?://\\w+.51job\\.com/Jobs/JobTip\\.aspx\\?.*&JobId=(\\d+)",type:"qiancheng",field:"qianchengPublishInfo"}],this.updatePublishResult()};t.default=o},7753:function(__unused_webpack_module,exports,__webpack_require__){var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRecruitPublic=exports.fetchHttpRequest=exports.webJudge=exports.isIhrLogin=exports.getCookie=void 0;var http_1=__webpack_require__(6971),getCookie=function(e,t){void 0===t&&(t=document.cookie);for(var n=0,r=(t||"").split("; ");n<r.length;n++){var o=r[n].split("=");if(o[0]===e)return o[1]}return""};exports.getCookie=getCookie;var isIhrLogin=function(e){return void 0===e&&(e=location.href),e.includes("web/page/single")&&e.includes("ihr360.com")};function timePromise(e){return void 0===e&&(e=100),new Promise((function(t){setTimeout((function(){t(null)}),e)}))}exports.isIhrLogin=isIhrLogin;var getDomWrap=function getDomWrap(resolve,domString){eval(domString)?resolve(eval(domString)):setTimeout((function(){return getDomWrap(resolve,domString)}),50)},getDomWrapPromise=function(e){return new Promise((function(t){getDomWrap(t,e)}))},getDom=function(e){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Promise.race([timePromise(3e3),getDomWrapPromise(e)])]}))}))},getBossResumeHTML=function(){return __awaiter(void 0,void 0,void 0,(function(){var e,t,n,r;return __generator(this,(function(o){switch(o.label){case 0:return e={fileContent:null,errorInfo:null},t=document.querySelector(".side-menu .router-link-active").getAttribute("ka"),["menu-geek-recommend"].includes(t)?(n=document.querySelector('[name="recommendFrame"]'))?n.contentDocument.querySelector(".resume-dialog")?[3,2]:[4,getDom('document.querySelector(\'[name="recommendFrame"]\').contentDocument.querySelector("#resume-page .resume-item-content")')]:[3,4]:[3,6];case 1:return(r=o.sent())?e.fileContent=r.outerHTML:e.errorInfo="未检测到简历详情",[3,3];case 2:e.errorInfo="请先打开简历详情,在尝试解析",o.label=3;case 3:return[3,5];case 4:e.errorInfo="请先打开简历详情,在尝试解析",o.label=5;case 5:return[3,14];case 6:return["menu-geek-search"].includes(t)?document.querySelector(".dialog-resume-full.search-resume")?[3,7]:(e.errorInfo="请先打开简历详情,在尝试解析",[3,9]):[3,10];case 7:return[4,getDom("document.querySelector('.dialog-resume-full.search-resume').querySelector(\".resume-dialog\")")];case 8:(r=o.sent())?e.fileContent=r.outerHTML:e.errorInfo="未检测到简历详情",o.label=9;case 9:return[3,14];case 10:if(!["menu-im"].includes(t))return[3,14];o.label=11;case 11:return o.trys.push([11,13,,14]),document.querySelector(".conversation-hd-box").children[1].click(),[4,getDom("document.querySelector('.resume-detail')")];case 12:return(r=o.sent())?e.fileContent=r.outerHTML:e.errorInfo="未检测到简历详情",[3,14];case 13:return o.sent(),e.errorInfo="未检测到简历详情",[3,14];case 14:return[2,e]}}))}))},webJudge=function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var e,n,r,o;return __generator(this,(function(i){switch(i.label){case 0:e=location.href,n=document.querySelector("body").outerHTML,r=null,i.label=1;case 1:return i.trys.push([1,15,,16]),e.includes("zhaopin.com/resume/detail")?(document.querySelector(".resume-detail--default")&&(n=document.querySelector(".resume-detail--default").outerHTML),[3,14]):[3,2];case 2:return e.includes("51job.com/Candidate/ResumeViewFolderV2.aspx")?(document.querySelector("#divResume")&&(n=document.querySelector("#divResume").outerHTML),[3,14]):[3,3];case 3:return e.includes("lagou.com/can/new/index.htm")?(document.querySelector(".lg-modal-content")?n=document.querySelector(".lg-modal-content").outerHTML:r="请先打开简历详情,在尝试解析",[3,14]):[3,4];case 4:if(!e.includes("lagou.com/can/new/details.htm"))return[3,9];i.label=5;case 5:return i.trys.push([5,7,,8]),document.querySelector(".rc-tabs-nav-animated").children[0].children[0].click(),[4,timePromise(200)];case 6:return i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return document.querySelector(".scroll-view")&&(n=document.querySelector(".scroll-view").outerHTML),[3,14];case 9:return e.includes("liepin.com/cvview/showresumedetail")?(document.querySelector("#water-mark-wrap")&&(n=document.querySelector("#water-mark-wrap").outerHTML),[3,14]):[3,10];case 10:return e.includes("ganji.com/resume_received/index")?(document.querySelector("resume-content")&&(n=document.querySelector("resume-content").outerHTML),[3,14]):[3,11];case 11:return e.includes("58.com/resumedetail/")?(document.querySelector(".resDetailRight")&&(n=document.querySelector(".resDetailRight").outerHTML),[3,14]):[3,12];case 12:return e.includes("zhipin.com/web/boss/recommend")||e.includes("zhipin.com/web/boss/search")||e.includes("zhipin.com/web/boss/index")?[4,getBossResumeHTML()]:[3,14];case 13:(o=i.sent()).errorInfo?r=o.errorInfo:n=o.fileContent,i.label=14;case 14:return[3,16];case 15:return i.sent(),n=document.querySelector("body").outerHTML,[3,16];case 16:return t({siteUrl:e,title:document.title,fileContent:n,errorInfo:r}),[2]}}))}))};exports.webJudge=webJudge;var fetchHttpRequest=function(e,t,n,r){return void 0===r&&(r={}),new Promise((function(o,i){try{chrome.cookies.getAll({url:"https://"+/^http(s)?:\/\/(.*?)\//.exec(e)[2]},(function(i){o((new http_1.default)[t](e,n,__assign({"X-XSRF-TOKEN":i.find((function(e){return"XSRF-TOKEN"===e.name})).value},r)))}))}catch(e){i("url 格式不正确")}}))};function isRecruitPublic(){return location.href.includes(".51job.com/Jobs/JobEdit.aspx?Mark=New")?"qiancheng":location.href.includes(".zhipin.com/web/boss/job/edit?encryptId=0")?"boss":location.href.includes(".lagou.com/position/multiChannel/createPosition.htm")?"lagou":location.href.includes(".zhaopin.com/job/publish")?"zhilian":location.href.includes(".liepin.com/ejobedit/editsocietyejob?ejobActionType=publish")?"liepin":location.href.includes(".ganji.com/pub/pub.php")&&location.href.includes("_pdt=zhaopin")?"ganji":!!location.href.includes(".58.com/zhaopin/")&&"58"}exports.fetchHttpRequest=fetchHttpRequest,exports.isRecruitPublic=isRecruitPublic},6971:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(7753),a=function(){function e(e){var t=this;void 0===e&&(e=!0),this.handlerErr=function(e,t){return Promise.reject("网络异常，请稍后重试！"+t)},this.dealRequestHeader=function(){return{"X-XSRF-TOKEN":c.getCookie("XSRF-TOKEN")}},this.get=function(e,n,r){void 0===r&&(r={});var c=t.serializeParma(e,n);return t.fetchData(c,"get",{},r).then((function(e){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t={status:e.status},[4,e.json()];case 1:return[2,(t.res=n.sent(),t)]}}))}))})).then((function(e){return e}))},this.post=function(e,n,r,c,a){return void 0===r&&(r={}),void 0===c&&(c=!1),void 0===a&&(a="json"),t.fetchData(e,"post",n,r,c,a).then((function(e){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t={status:e.status},[4,e.json()];case 1:return[2,(t.res=n.sent(),t)]}}))}))})).then((function(e){return e}))},this.put=function(e,n,r,c,a){return void 0===r&&(r={}),void 0===c&&(c=!1),void 0===a&&(a="json"),t.fetchData(e,"put",n,r,c,a).then((function(e){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t={status:e.status},[4,e.json()];case 1:return[2,(t.res=n.sent(),t)]}}))}))})).then((function(e){return e}))},this.delete=function(e,n,r){return void 0===r&&(r={}),t.fetchData(e,"delete",n,r).then((function(e){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t={status:e.status},[4,e.json()];case 1:return[2,(t.res=n.sent(),t)]}}))}))})).then((function(e){return e}))},this.serializeParma=function(e,t){var n=e;if(t){var r=[];Object.keys(t).forEach((function(e){return r.push(e+"="+t[e])})),-1===e.search(/\?/)?n+="?"+r.join("&"):n+="&"+r.join("&")}return n},this.contentType="application/json;charset=UTF-8",this.isIhr=e,this.credentials="include",this.mode="cors",this.xsrfToken="",this.showDefaultErrorTip=!0,this.needCatchTip=!1}return e.prototype.fetchData=function(e,t,n,c,a,s){return void 0===c&&(c={}),void 0===a&&(a=!1),void 0===s&&(s="json"),o(this,void 0,void 0,(function(){var o=this;return i(this,(function(i){switch(i.label){case 0:this.initHeader={Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},this.isIhr&&(this.initHeader["X-XSRF-TOKEN"]=this.xsrfToken),this.headers="json"===s?Object.assign(this.initHeader,{"Content-Type":a?"multipart/form-data":"application/json"}):a?this.isIhr?{"X-XSRF-TOKEN":this.xsrfToken}:{}:this.headers=Object.assign(this.initHeader,{"Content-Type":a?"multipart/form-data":"application/json",authorization:"authorization-text"}),this.data="get"===t?{method:t,headers:Object.assign(this.initHeader,r({"Content-Type":"application/json"},c)),credentials:this.credentials}:{method:t,headers:Object.assign(this.headers,c),credentials:this.credentials,body:"get"===t?"":"text"===s?n:JSON.stringify(n)},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(e,this.data).catch((function(t){return o.handlerErr(t,e)}))];case 2:return[2,i.sent()];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},e}();t.default=a}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(146)})();